
R Under development (unstable) (2014-07-21 r66220) -- "Unsuffered Consequences"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: i386-w64-mingw32/i386 (32-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> require(lmerTest)
Loading required package: lmerTest
Loading required package: Matrix
Loading required package: lme4
Loading required package: Rcpp
KernSmooth 2.23 loaded
Copyright M. P. Wand 1997-2009

Attaching package: 'lmerTest'

The following object is masked from 'package:lme4':

    lmer

The following object is masked from 'package:stats':

    step

> 
> ## from merModLmerTest
> m <- lmer(Reaction ~ Days + (1|Subject) + (0+Days|Subject),
+           data = sleepstudy)
> 
> anova(m, type=1)
Analysis of Variance Table of type 1  with  Satterthwaite 
approximation for degrees of freedom
     Sum Sq Mean Sq NumDF  DenDF F.value    Pr(>F)    
Days  29442   29442     1 18.156  45.046 2.594e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> anova(m, ddf="Kenward-Roger")
Analysis of Variance Table of type 3  with  Kenward-Roger 
approximation for degrees of freedom
     Sum Sq Mean Sq NumDF  DenDF F.value    Pr(>F)    
Days  29442   29442     1 18.188  45.046 2.571e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> ## from lmerTest
> m <- lmer(Informed.liking ~ Gender+Information+Product +(1|Consumer), data=ham)
> 
> anova(m, ddf = "Kenward-Roger")
Analysis of Variance Table of type 3  with  Kenward-Roger 
approximation for degrees of freedom
            Sum Sq Mean Sq NumDF DenDF F.value    Pr(>F)    
Gender       3.844  3.8437     1    79  0.8789 0.3513501    
Information  6.520  6.5201     1   563  1.4910 0.2225799    
Product     91.807 30.6024     3   563  6.9979 0.0001256 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> ## from anova methods
> m.ham <- lmer(Informed.liking ~ Product*Information*Gender 
+               + (1|Consumer), data = ham)
> 
> anova(m.ham, type = 1)
Analysis of Variance Table of type 1  with  Satterthwaite 
approximation for degrees of freedom
                           Sum Sq Mean Sq NumDF DenDF F.value    Pr(>F)    
Product                    91.807 30.6024     3   553  6.9475 0.0001351 ***
Information                 6.520  6.5201     1   553  1.4802 0.2242582    
Gender                      3.872  3.8715     1    79  0.8789 0.3513501    
Product:Information        10.387  3.4624     3   553  0.7861 0.5020073    
Product:Gender              8.421  2.8071     3   553  0.6373 0.5912406    
Information:Gender          1.407  1.4075     1   553  0.3195 0.5721200    
Product:Information:Gender  5.992  1.9972     3   553  0.4534 0.7149855    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> anova(m.ham, ddf = "lme4")
Analysis of Variance Table
                           Df Sum Sq Mean Sq F value
Product                     3 91.807 30.6024  6.9475
Information                 1  6.520  6.5201  1.4802
Gender                      1  3.872  3.8715  0.8789
Product:Information         3 10.387  3.4624  0.7861
Product:Gender              3  8.421  2.8071  0.6373
Information:Gender          1  1.407  1.4075  0.3195
Product:Information:Gender  3  5.992  1.9972  0.4534
> 
> fm2 <- lmer(Preference ~ sens2 + I(sens1^2)  +
+               (1+sens2|Consumer), data=carrots)
> 
> ## from lmer
> fm1 <- lmer(Reaction ~ Days + (Days|Subject), sleepstudy)
> fm2 <- lmer(Reaction ~ Days + (1|Subject) + (0+Days|Subject), sleepstudy)
> 
> anova(fm1, ddf="Kenward-Roger")
Note: method with signature 'sparseMatrix#ANY' chosen for function 'kronecker',
 target signature 'dgCMatrix#ngCMatrix'.
 "ANY#sparseMatrix" would also be valid
Analysis of Variance Table of type 3  with  Kenward-Roger 
approximation for degrees of freedom
     Sum Sq Mean Sq NumDF DenDF F.value    Pr(>F)    
Days  30031   30031     1    17  45.853 3.264e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> # anova table the same as of class merMod
> anova(fm1, ddf="lme4")
Analysis of Variance Table
     Df Sum Sq Mean Sq F value
Days  1  30031   30031  45.853
> 
> anova(fm1, fm2)
refitting model(s) with ML (instead of REML)
Data: sleepstudy
Models:
..1: Reaction ~ Days + (1 | Subject) + (0 + Days | Subject)
object: Reaction ~ Days + (Days | Subject)
       Df    AIC    BIC  logLik deviance  Chisq Chi Df Pr(>Chisq)
..1     5 1762.0 1778.0 -876.00   1752.0                         
object  6 1763.9 1783.1 -875.97   1751.9 0.0639      1     0.8004
> 
> proc.time()
   user  system elapsed 
   4.86    0.17    5.11 
